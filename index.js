import{a as h,i as E}from"./assets/vendor-BprhKTE7.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}})();const f="/project-curriculum/assets/icons-DrLvtf1b.svg",p=document.querySelector(".header-mobile-open-btn"),v=p.querySelector("use"),y=document.querySelector(".mobile-backdrop"),S=document.querySelectorAll(".nav-list-mobile a");p.addEventListener("click",q);S.forEach(e=>e.addEventListener("click",k));function q(){const e=y.classList.toggle("is-open");document.body.classList.toggle("menu-open",e),v.setAttribute("href",`${f}#${e?"icon-menu-button":"icon-menu"}`)}function k(){y.classList.remove("is-open"),document.body.classList.remove("menu-open"),v.setAttribute("href",`${f}#icon-menu`)}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".accordion-button").forEach(s=>{s.addEventListener("click",()=>{const r=s.closest(".accordion-item");document.querySelectorAll(".accordion-item").forEach(o=>{o!==r&&(o.classList.remove("is-active"),o.querySelector(".accordion-panel").style.display="none")});const i=r.querySelector(".accordion-panel"),t=r.classList.toggle("is-active");i.style.display=t?"block":"none"})})});const L=document.querySelector(".footer-form"),n=document.querySelector(".form-email"),u=document.querySelector(".email-success-message"),m=document.querySelector(".email-error-message"),c=document.querySelector(".form-comment"),l=document.querySelector(".footer-backdrop"),g=document.querySelector(".footer-modal"),b=document.querySelector(".modal-button");n.addEventListener("input",function(){const e=n.value.trim();A.test(e)?(n.classList.add("success"),n.classList.remove("error"),u.style.display="block",m.style.display="none"):(n.classList.add("error"),n.classList.remove("success"),u.style.display="none",m.style.display="block")});const A=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;c.addEventListener("blur",function(){c.value.length>30&&(c.value=c.value.substring(0,30)+"...")});c.addEventListener("input",function(){localStorage.setItem("comments",c.value)});n.addEventListener("input",function(){localStorage.setItem("email",n.value)});document.addEventListener("DOMContentLoaded",function(){const e=localStorage.getItem("comments"),s=localStorage.getItem("email");e&&(c.value=e),s&&(n.value=s)});function C(){document.body.classList.add("no-scroll"),l.classList.add("is-open"),g.classList.add("is-visible"),b.addEventListener("click",a),l.addEventListener("click",function(e){e.target===l&&a()}),document.addEventListener("keydown",function(e){e.key==="Escape"&&a()}),L.reset()}function a(){document.body.classList.remove("no-scroll"),l.classList.remove("is-open"),g.classList.remove("is-visible"),b.removeEventListener("click",a),document.removeEventListener("keydown",function(e){e.key==="Escape"&&a()})}L.addEventListener("submit",async function(e){var i,t;e.preventDefault();const s=n.value.trim(),r=c.value;try{const o=await h.post("https://portfolio-js.b.goit.study/api/requests/",{email:s,comment:r},{headers:{"Content-Type":"application/json"}});n.classList.remove("success"),u.style.display="none",C(),localStorage.removeItem("email"),localStorage.removeItem("comments")}catch(o){E.error({position:"topRight",theme:"dark",messageColor:"white",backgroundColor:"#ef4040",message:"Error: "+(((t=(i=o.response)==null?void 0:i.data)==null?void 0:t.message)||"Something went wrong")})}});
//# sourceMappingURL=index.js.map

{"version":3,"file":"index.js","sources":["../src/img/icons.svg","../src/js/header-menu.js","../src/js/accordion.js","../src/js/footer.js"],"sourcesContent":["export default \"__VITE_ASSET__CMaiXz4u__\"","import iconsUrl from '/img/icons.svg';\n\nconst openBtn = document.querySelector('.header-mobile-open-btn');\nconst openIcon = openBtn.querySelector('use');\nconst mobileBackdrop = document.querySelector('.mobile-backdrop');\nconst navLinks = document.querySelectorAll('.nav-list-mobile a');\n\nopenBtn.addEventListener('click', toggleMenu);\n\n// закрытие по клику на пункт меню\nnavLinks.forEach(link => link.addEventListener('click', closeMenu));\n\nfunction toggleMenu() {\n  const isOpen = mobileBackdrop.classList.toggle('is-open');\n  document.body.classList.toggle('menu-open', isOpen);\n\n  openIcon.setAttribute(\n    'href',\n    `${iconsUrl}#${isOpen ? 'icon-menu-button' : 'icon-menu'}`\n  );\n}\n\nfunction closeMenu() {\n  mobileBackdrop.classList.remove('is-open');\n  document.body.classList.remove('menu-open');\n  openIcon.setAttribute('href', `${iconsUrl}#icon-menu`);\n}\n","document.addEventListener('DOMContentLoaded', () => {\n  const accordionButtons = document.querySelectorAll('.accordion-button');\n\n  accordionButtons.forEach(button => {\n    button.addEventListener('click', () => {\n      const item = button.closest('.accordion-item');\n\n      // закрываем другие пункты\n      document.querySelectorAll('.accordion-item').forEach(i => {\n        if (i !== item) {\n          i.classList.remove('is-active');\n          i.querySelector('.accordion-panel').style.display = 'none';\n        }\n      });\n\n      // переключаем текущий\n      const panel = item.querySelector('.accordion-panel');\n      const isActive = item.classList.toggle('is-active');\n      panel.style.display = isActive ? 'block' : 'none';\n    });\n  });\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport axios from 'axios';\n\nconst form = document.querySelector(\".footer-form\");\nconst formEmail = document.querySelector(\".form-email\");\nconst successMessage = document.querySelector('.email-success-message');\nconst errorMessage = document.querySelector('.email-error-message');\nconst formComment = document.querySelector(\".form-comment\");\nconst backdrop = document.querySelector(\".footer-backdrop\");\nconst modalWindow = document.querySelector(\".footer-modal\");\nconst modalCloseBtn = document.querySelector(\".modal-button\");\n\nformEmail.addEventListener('input', function () {\n  const email = formEmail.value.trim();\n  if (emailPattern.test(email)) {\n    formEmail.classList.add('success');\n    formEmail.classList.remove('error');\n    successMessage.style.display = 'block';\n    errorMessage.style.display = 'none';\n  } else {\n    formEmail.classList.add('error');\n    formEmail.classList.remove('success');\n    successMessage.style.display = 'none';\n    errorMessage.style.display = 'block';\n  }\n});\n\nconst emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n\nformComment.addEventListener('blur', function () {\n  const maxLength = 30;\n  if (formComment.value.length > maxLength) {\n    formComment.value = formComment.value.substring(0, maxLength) + '...';\n  }\n});\n//  =================== LocalStorage ==============\nformComment.addEventListener('input', function () {\n  localStorage.setItem('comments', formComment.value);\n});\nformEmail.addEventListener('input', function () {\n  localStorage.setItem('email', formEmail.value);\n});\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const savedComments = localStorage.getItem('comments');\n  const savedEmail = localStorage.getItem('email');\n  if (savedComments) {\n    formComment.value = savedComments;\n  }\n  if (savedEmail) {\n    formEmail.value = savedEmail;\n  }\n});\n\n\nfunction openModal() {\n    document.body.classList.add('no-scroll');\n    backdrop.classList.add(\"is-open\");\n    modalWindow.classList.add(\"is-visible\");\n  modalCloseBtn.addEventListener('click', closeModal);\n    backdrop.addEventListener('click', function (event) {\n      if (event.target === backdrop) {\n        closeModal();\n      }\n    });\n    document.addEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        closeModal();\n      }\n    });\n  form.reset();\n}\n\nfunction closeModal() {\n    document.body.classList.remove('no-scroll');\n    backdrop.classList.remove(\"is-open\");\n    modalWindow.classList.remove(\"is-visible\");\n    modalCloseBtn.removeEventListener('click', closeModal);\n    document.removeEventListener('keydown', function (event) {\n      if (event.key === 'Escape') {\n        closeModal();\n      }\n    });\n  }\nform.addEventListener('submit', async function (event) {\n  event.preventDefault();\n  const emailValue = formEmail.value.trim();\n  const textComment = formComment.value;\n  try {\n    const response = await axios.post(\n      'https://portfolio-js.b.goit.study/api/requests/',\n      {\n        email: emailValue,\n        comment: textComment,\n      },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n    formEmail.classList.remove('success');\n    successMessage.style.display = 'none';\n      openModal();\n    localStorage.removeItem('email');\n    localStorage.removeItem('comments');\n  } catch (error) {\n    iziToast.error({\n      position: 'topRight',\n      theme: 'dark',\n      messageColor: 'white',\n      backgroundColor: '#ef4040',\n      message: 'Error: ' + (error.response?.data?.message || 'Something went wrong'),\n    });\n  }\n});"],"names":["iconsUrl","openBtn","openIcon","mobileBackdrop","navLinks","toggleMenu","link","closeMenu","isOpen","button","item","i","panel","isActive","form","formEmail","successMessage","errorMessage","formComment","backdrop","modalWindow","modalCloseBtn","email","emailPattern","savedComments","savedEmail","openModal","closeModal","event","emailValue","textComment","response","axios","error","iziToast","_b","_a"],"mappings":"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"}